{% extends "studio/studio_base.html" %}
{% load staticfiles %}

{% block content %}
    <h1>Мои задания</h1><hr>
    <a class="btn btn-primary" href="{% url 'taskcreate' %}" role="button"><i class="fas fa-plus-square"></i> Добавить новое</a>
    <input name="csrf_token" type="hidden" id="csrf_token" value="{{ csrf_token }}">
    <input type="hidden" id="url_delete_task" value="{% url 'taskdelete' %}"/>
    <div class="mt-2">
        <table id="myTable" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Date</th>
                    <th>Facebook</th>
                    <th>Telegram</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                {% for post in posts %}
                <tr id="{{ post.id }}">
                    <td><h6>{{ post.title }}</h6></td>
                    <td>{{ post.date_posting }}</td>
                    <td>{% if post.facebook_result %}Виконано{% else %}Не виконано{% endif %}</td>
                    <td>{% if post.telegram_result %}Виконано{% else %}Не виконано{% endif %}</td>
                    <td><div class="d-flex justify-content-center">
                        <a class="btn btn-primary" href="#" role="button"><i class="fas fa-edit"></i></a>
                    </div></td>
                    <td><div class="d-flex justify-content-center">
                        <a class="deletetask btn btn-primary" id="{{ post.id }}" href="#" role="button"><i class="fas fa-trash"></i></a>
                    </div></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock content %}

{% block page_js %}
    <script type="text/javascript" src="{% static "js/table.js" %}"></script>
    <script type="text/javascript" src="{% static "js/studio_delete_task.js" %}"></script>
{% endblock page_js %}
